<!-- src/app/residences/residences.component.html -->
<div class="container mt-4">
  <div class="row">
    <div *ngFor="let residence of listResidences" class="col-md-6 mb-3">
      <div class="card">
        <img [src]="residence.image" class="card-img-top img-fluid" alt="{{ residence.name }}" style=" width: 30% ;">
        <div class="card-body">
          <h5 class="card-title">{{ residence.name }}</h5>
          <h4 class="card-title">{{residence.address}}</h4>
          <button (click)="showApartments(residence)" class="btn btn-primary">Show Apartments</button>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="selectedResidenceApartments.length > 0; else noApartments" class="row">
    <div *ngFor="let apartment of selectedResidenceApartments" class="col-md-6 mb-3">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">{{ apartment.description }}</h5>
          <p>Likes: {{ getLikes(apartment) }}</p>
          <button (click)="likeApartment(apartment)" class="btn btn-info">+1 Like</button>
          <p></p>
          <button class="btn btn-info" [routerLink]="['/residence',apartment.id]"> show</button>
        </div>
      </div>
    </div>
  </div>

  <ng-template #noApartments>
    <p class="mt-3">No Apartment found</p>
  </ng-template>

  <div class="mt-4">
    <input type="number" [(ngModel)]="searchSurface" placeholder="Search by surface" class="form-control">
    <button (click)="searchApartments()" class="btn btn-info mt-2">Search</button>
  </div>
</div>